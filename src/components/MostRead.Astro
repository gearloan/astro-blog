---
import { fetchPosts } from '../lib/fetchPosts.js';
const posts = await fetchPosts(5);
---

<aside class="prose prose-editorial">
  <h3 class="text-sm font-body tracking-widest uppercase mb-2 pl-9">Most Read</h3>
  <ol class="space-y-6 p-0">
    {posts.map((post, index) => (
      <li class="flex items-center gap-3">
        <span class="text-5xl text-aopa-grey font-serif leading-none">{index + 1}</span>
        <a href={`/blog-post/${post.slug}`} class="block font-bold leading-snug hover:underline">
          <span>{post.title.replace(/<[^>]*>/g, '')}</span>
        </a>
      </li>
    ))}
  </ol>
</aside>
