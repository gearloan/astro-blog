---
import { fetchPosts } from '../lib/fetchPosts.js';
const posts = await fetchPosts();
---

<ul class="prose prose-editorial">
  {posts.map(post => (
    <li>
      <img src={post.featuredImage?.node?.mediaDetails?.sizes?.find(size => size.name === "thumbnail")?.sourceUrl ?? post.featuredImage?.node?.sourceUrl} />
      <a href={`/blog-post/${post.slug}`} class="text-blue-600 hover:underline">
        <h2 set:html={post.title}></h2>
      </a>
      <p set:html={post.excerpt}></p>
    </li>
  ))}
</ul>

