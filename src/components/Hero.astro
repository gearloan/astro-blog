---
// Hero component with weather widget
---

<!-- Hero Section with Weather Widget -->
<section class="relative w-full md:h-[87vh] h-[75vh] overflow-hidden">
  <!-- Background Video -->
  <div class="absolute inset-0">
    <!-- Desktop Video -->
    <video
      class="hidden md:block w-full h-full object-cover object-bottom"
      autoplay
      muted
      loop
      playsinline
      preload="metadata"
    >
      <source src="/video/hero-video-desktop.mp4" type="video/mp4">
      <!-- Fallback image for browsers that don't support video -->
      <img
        src="/images/home/hero-cessna-desktop.jpg"
        alt="Piper M600 flying over water at sunset"
        class="w-full h-full object-cover object-bottom"
      />
    </video>
    
    <!-- Mobile Video -->
    <video
      class="block md:hidden w-full h-full object-cover object-bottom"
      autoplay
      muted
      loop
      playsinline
      preload="metadata"
    >
      <source src="/video/hero-video-mobile.mp4" type="video/mp4">
      <!-- Fallback image for browsers that don't support video -->
      <img
        src="/images/home/hero-cessna-desktop.jpg"
        alt="Piper M600 flying over water at sunset"
        class="w-full h-full object-cover object-bottom"
      />
    </video>
    <!-- Dark overlay for better text contrast -->
    <div class="absolute inset-0 bg-gray-800/50"></div>
  </div>

  <!-- Main Content Overlay -->
  <div class="absolute inset-0 flex items-start justify-center z-10 pt-10 md:pt-20">
    <div class="text-center text-white">
      <!-- AOPA Logo -->
      <div class="md:mb-8 mb-4">
        <img
          src="/images/ui/logo-small-white.svg"
          alt="AOPA - Aircraft Owners and Pilots Association"
          class="w-32 md:w-48 h-auto mx-auto"
          width="192"
          height="64"
        />
      </div>

      <!-- Tagline -->
      <h1
        class="font-heading text-3xl md:text-4xl lg:text-5xl font-bold md:mb-6 mb-4 tracking-wide"
      >
        FREEDOM TO FLY
      </h1>
      
      <!-- Description -->
      
      <h2 class="hidden md:block text-lg md:text-xl text-white/90 md:mb-8 mb-6 max-w-2xl mx-auto leading-relaxed font-ui">
        The Aircraft Owners and Pilots Association<br> is the voice of general aviation
      </h2>
       

      <!-- CTA Buttons -->
      <div class="flex flex-col md:flex-row gap-4 justify-center items-center">
        <button
          class="bg-aopa-dkblue backdrop-blur-sm text-white px-8 py-3 rounded-lg font-ui text-lg hover:bg-aopa-dkblue transition-all duration-200"
        >
          MEMBER LOGIN
        </button>
        <button
          class="bg-white/90 backdrop-blur-sm text-slate-800 px-8 py-3 rounded-lg font-ui text-lg hover:bg-white transition-all duration-200"
        >
          JOIN AOPA
        </button>
      </div>
    </div>
  </div>

  <!-- Weather Widget with Tabs -->
  <div
    class="absolute bottom-6 left-1/2 right-auto -translate-x-1/2 z-20 w-full max-w-6xl px-4 md:px-8"
  >
    <div
      class="bg-white/70 md:bg-white/50 backdrop-blur-sm rounded-xl shadow-lg w-full max-w-6xl"
    >
      <!-- Tabs -->
      <div class="flex border-b border-white/20 overflow-x-auto scrollbar-hide">
        <button
          class="tab-button active px-4 py-3 text-sm font-ui font-medium text-slate-600 border-b-2 border-blue-500 bg-white/20"
          data-tab="weather"
        >
          Aviation Weather
        </button>
        <button
          class="tab-button px-4 py-3 text-sm font-ui font-medium text-slate-600 border-b-2 border-transparent hover:bg-white/10"
          data-tab="airport"
        >
          Airport Finder
        </button>
        <button
          class="tab-button px-4 py-3 text-sm font-ui font-medium text-slate-600 border-b-2 border-transparent hover:bg-white/10"
          data-tab="destinations"
        >
          <span class="md:hidden">Desti-nations</span><span class="hidden md:inline">Destinations</span>
        </button>
        <button
          class="tab-button px-4 py-3 text-sm font-ui font-medium text-slate-600 border-b-2 border-transparent hover:bg-white/10"
          data-tab="flightplanner"
        >
          iFlightPlanner
        </button>
      </div>

      <!-- Tab Content -->
      <div class="px-4 py-4 md:p-6 relative">
        <!-- Info Icon -->
        <div class="absolute top-2 right-2 z-10">
            <button 
              id="weather-info-btn"
              class="w-6 h-6 bg-gray-200/60 hover:bg-gray-300/80 rounded-full flex items-center justify-center transition-colors"
              title="Trend Arrow Info"
            >
            <svg class="w-4 h-4 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
            </svg>
          </button>
        </div>
        
        <!-- Weather Tab -->
        <div id="weather-content" class="tab-content h-40 md:h-24">
          <div class="flex flex-wrap lg:flex-nowrap h-full">
            <!-- Weather Header -->
            <div class="flex items-center gap-3 mb-4 mr-4 md:mr-10">
              <div
                class="w-12 h-12 bg-green-400 rounded-full flex items-center justify-center aspect-square weather-sun-container"
              >
                <svg
                  class="w-8 h-8 text-green-600 weather-sun-icon"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                    clip-rule="evenodd"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="font-ui text-slate-600 text-base whitespace-nowrap">Aviation Weather</h3>
                <p class="text-sm text-slate-600 weather-timestamp">
                  Frederick Municipal Airport | 8am Friday
                </p>
                <p class="text-slate-600 text-xs md:text-base font-medium weather-conditions">
                  CLEAR SKIES, CALM WINDS
                </p>
              </div>
            </div>

            <!-- Weather Metrics -->
            <div
              class="flex justify-around items-center w-full md:justify-end md:items-baseline md:flex-1 md:gap-8"
            >
              <!-- Temperature -->
              <div class="text-center">
                <div class="font-blockquote text-5xl md:text-7xl font-bold text-slate-600 weather-temp">
                  
                </div>
                <div class="text-xs text-slate-600">TEMP</div>
              </div>

              <!-- Wind -->
              <div class="text-center">
                <div
                  class="font-blockquote text-5xl md:text-7xl font-bold text-slate-600 flex items-center justify-center gap-1 weather-wind"
                >
                  
                  <svg
                    class="w-4 h-4 md:w-5 md:h-5 text-red-600"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div class="text-xs text-slate-600">WIND</div>
              </div>

              <!-- Visibility -->
              <div class="text-center hidden md:block">
                <div class="font-blockquote text-4xl md:text-7xl font-bold text-slate-600 weather-visibility">
                  
                </div>
                <div class="text-xs text-slate-600">MILES</div>
                <div class="text-xs text-slate-600">VISIBILITY</div>
              </div>

              <!-- Pressure -->
              <div class="text-center">
                <div
                  class="font-blockquote text-5xl md:text-7xl font-bold text-slate-600 flex items-center justify-center gap-1 weather-pressure"
                >
                  
                  <svg
                    class="w-4 h-4 md:w-5 md:h-5 text-green-600"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                      clip-rule="evenodd"></path>
                  </svg>
                </div>
                <div class="text-xs text-slate-600">PRESSURE</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Airport Finder Tab -->
        <div id="airport-content" class="tab-content hidden h-24">
          <div class="flex items-center justify-center h-full">
            <div class="text-center">
              <h3 class="text-xl font-bold text-slate-600 mb-4">Airport Finder</h3>
              <p class="text-slate-600">Search for airports by location, code, or name</p>
            </div>
          </div>
        </div>

        <!-- Destinations Tab -->
        <div id="destinations-content" class="tab-content hidden h-24">
          <div class="flex items-center justify-center h-full">
            <div class="text-center">
              <h3 class="text-xl font-bold text-slate-600 mb-4">Destinations</h3>
              <p class="text-slate-600">Discover popular flying destinations and routes</p>
            </div>
          </div>
        </div>

        <!-- iFlightPlanner Tab -->
        <div id="flightplanner-content" class="tab-content hidden h-24">
          <div class="flex items-center justify-center h-full">
            <div class="text-center">
              <h3 class="text-xl font-bold text-slate-600 mb-4">iFlightPlanner</h3>
              <p class="text-slate-600">Plan your flight with weather, fuel, and route planning</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Custom styles for the hero section */
  .hero-gradient {
    background: linear-gradient(
      135deg,
      rgba(0, 0, 0, 0.3) 0%,
      rgba(0, 0, 0, 0.1) 100%
    );
  }

  /* Ensure proper z-index stacking */
  .hero-bg {
    z-index: 1;
  }
  .hero-nav {
    z-index: 20;
  }
  .hero-content {
    z-index: 10;
  }

  /* Hide scrollbar for tab overflow */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Safari and Chrome */
  }
  .hero-weather {
    z-index: 20;
  }
</style>

<script>
  // Tab functionality
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', function() {
        const targetTab = this.getAttribute('data-tab');

        // Remove active class from all buttons
        tabButtons.forEach(btn => {
          btn.classList.remove('active', 'border-blue-500', 'bg-white/20');
          btn.classList.add('border-transparent');
        });

        // Add active class to clicked button
        this.classList.add('active', 'border-blue-500', 'bg-white/20');
        this.classList.remove('border-transparent');

        // Hide all tab contents
        tabContents.forEach(content => {
          content.classList.add('hidden');
        });

        // Show target tab content
        const targetContent = document.getElementById(targetTab + '-content');
        if (targetContent) {
          targetContent.classList.remove('hidden');
        }
      });
    });
  });
</script>

<script>
  import weatherWidget from '../scripts/weather-widget.ts';
  
  // Initialize the weather widget when the page loads
  document.addEventListener('DOMContentLoaded', () => {
    new weatherWidget();
  });
</script>
