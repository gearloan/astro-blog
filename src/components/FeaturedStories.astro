---
import { fetchPosts } from '../lib/fetchPosts.js';
const posts = await fetchPosts(5);
---

<aside class="prose prose-editorial">
  <h3 class="font-body tracking-widest uppercase mb-4 pl-1 dark:text-white">FEATURED STORIES</h3>
  <ul class="space-y-6 p-0 ">
    {posts.map((post, index) => (
        <li class="flex items-start gap-3">
            <div>
            <a href={`/blog-post/${post.slug}`} class="block font-bold leading-snug hover:underline dark:text-white">
                <span>{post.title.replace(/<[^>]*>/g, '')}</span>
            </a>
            <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                {post.author?.name ?? 'Unknown Author'} &nbsp;|&nbsp; {new Date(post.date).toLocaleDateString()}
            </p>
            </div>
        </li>
    ))}

  </ul>
</aside>
